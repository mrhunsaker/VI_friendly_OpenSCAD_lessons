# CMD-3: Input, Output, and Piping

**Duration:** 1 class period
**Prerequisite:** CMD-2 (File and Folder Manipulation)

---

## Learning Objectives

By the end of this lesson, you will be able to:

- Use `echo` to print text to the screen
- Use `type` to read file contents
- Use `>` to redirect output into a file
- Use `|` (pipe) to send one command's output to another
- Copy output to the clipboard with `clip`
- Open files with a text editor from the command line

---

## Commands Covered

| Command            | What It Does                                    |
|--------------------|-------------------------------------------------|
| `echo text`        | Print text to the screen                        |
| `type filename`    | Print the contents of a file                    |
| `> filename`       | Redirect output into a file (overwrites)        |
| `>> filename`      | Append output to a file (adds to end)           |
| `\|`               | Pipe - send output from one command to the next |
| `clip`             | Copy piped input to the Windows clipboard       |
| `notepad filename` | Open a file in Notepad                          |

---

## `echo` - Printing Text

`echo` prints text to the screen. It is useful for testing, for writing text into files, and for understanding how piping works.

```cmd
echo Hello, World
echo This is a test
```

---

## `type` - Reading Files

`type` prints the contents of a file to the screen.

```cmd
:: Read a text file
type %USERPROFILE%\Documents\notes.txt

:: Read an OpenSCAD file
type %USERPROFILE%\Documents\OpenSCAD_Projects\project0.scad
```

With a long file, use `type filename | more` to read it page by page (press `Space` to advance, `Q` to quit).

---

## `>` - Redirecting Output to a File

The `>` symbol redirects output from the screen into a file instead.

```cmd
:: Create a file with a single line
echo Author: Your Name > header.txt

:: Confirm the file was created and has content
type header.txt
```

**Warning:** `>` overwrites the file if it already exists. Use `>>` to append instead:

```cmd
echo Date: 2025 >> header.txt
echo Project: Floor Marker >> header.txt
type header.txt
```

---

## `|` - Piping

The pipe symbol `|` sends the output of one command to the input of the next. This lets you chain commands together.

```cmd
:: List files and send the list to clip (copies to clipboard)
dir /B | clip

:: Now paste with Ctrl + V anywhere
```

```cmd
:: Search within a file's contents using find
type project0.scad | find "cube"
```

---

## `clip` - Copying to Clipboard

`clip` takes whatever is piped to it and puts it on the Windows clipboard.

```cmd
:: Copy your current directory path to the clipboard
cd | clip

:: Copy a file listing to clipboard
dir /B | clip

:: Copy the contents of a file to clipboard
type notes.txt | clip
```

After any of these, press `Ctrl + V` in any application to paste.

---

## Opening Files in Notepad

```cmd
:: Open a file in Notepad
notepad %USERPROFILE%\Documents\notes.txt

:: Open a .scad file
notepad %USERPROFILE%\Documents\OpenSCAD_Projects\project0.scad

:: Create a new file and open it
echo. > new_notes.txt
notepad new_notes.txt
```

---

## Step-by-step Tasks

1. Create `practice.txt` with three lines using `echo` and `>`/`>>`.
2. Read the file with `type practice.txt`.
3. Pipe the file into `find` to search for a word.
4. Copy the file contents to clipboard with `type practice.txt | clip`.
5. Redirect `dir /B` into `list.txt` and open it in Notepad.

## Checkpoints

- After step 3 you should be able to find a keyword using piping.

## Quiz - Lesson CMD.3

1. What is the difference between `>` and `>>`?
2. What does the pipe `|` do?
3. How do you copy output to the clipboard?
4. How would you page through long output?
5. How do you suppress output (send it nowhere)?
6. True or False: The pipe operator `|` connects the output of one command to the input of another.
7. Explain why redirecting output to a file is useful for screen reader users.
8. Write a command that would search for the word "sphere" in all `.scad` files in a directory.
9. How would you count the number of lines in a file using CMD piping?
10. Describe a practical scenario in 3D printing where you would pipe or redirect command output.
11. What would be the difference in output between `echo test > file.txt` (run twice) vs `echo test >> file.txt` (run twice)? Show the expected file contents.
12. Design a three-step piping chain: read a file, filter for specific content, and save the results; explain what each pipe does.
13. You have a 500-line `.scad` file and need to find all instances of `sphere()` and count them. Write the command.
14. Explain how `clip` is particularly valuable for screen reader users when working with file paths or long output strings.
15. Describe how you would use pipes and redirection to create a timestamped backup report of all `.stl` files in a 3D printing project folder.

## Extension Problems

1. Use piping to count lines in a file (hint: `type file.txt | find /C /V ""`).
2. Save a long `dir /B` output and search it with `find`.
3. Chain multiple pipes to filter and then save results.
4. Practice copying different command outputs to clipboard and pasting.
5. Create a small batch script that generates a report (counts of files by extension).
6. Build a data processing pipeline: read a text file, filter rows, and export results; document each step.
7. Write a batch script that pipes directory listing to count occurrences of each file extension; create a summary report.
8. Create a log analysis command: read a log file, filter for errors, and save matching lines to a separate error log.
9. Design a piping workflow for 3D printing file management: find `.stl` files, extract their names, and generate a report.
10. Develop a reusable piping pattern library: create batch scripts for common filtering, sorting, and reporting patterns; test each with different inputs.
11. Build a complex filter pipeline: read a `.scad` file, extract lines containing specific geometry commands, count each type, and output a summary to both screen and file.
12. Create an interactive filtering tool: build a batch script that accepts a search term, pipes through multiple filters, and displays paginated results.
13. Develop a performance analysis tool: use piping to combine file listing, metadata extraction, and statistical reporting; export results to a dated report file.
14. Implement a comprehensive error-handling pipeline: read output, catch errors, log them separately, and generate a summary of successes vs failures.
15. Design and execute a real-world project backup workflow: use piping to verify file existence, count files by type, generate a backup manifest, and create audit logs â€” all in one integrated command pipeline.

## References

- Microsoft. (2024). *Using redirection operators in CMD*. [https://example.com](https://example.com)
- Microsoft. (2024). *FIND command reference*. [https://example.com](https://example.com)
- Microsoft. (2024). *CMD pipeline concepts*. [https://example.com](https://example.com)

## Helpful Resources

- [Using Redirection in CMD](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/redirection)
- [Piping and FIND](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/find)
- [TYPE Command Reference](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/type)
- [FINDSTR for Advanced Searching](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/findstr)
- [CMD Pipeline Concepts](https://learn.microsoft.com/en-us/windows-server/administration/windows-commands/)
<!--pagebreak-->
